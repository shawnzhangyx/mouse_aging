Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 1000
Job counts:
	count	jobs
	1	dedup_bam
	1	filter_bam
	1	require_filter_bam
	3

[Sun Apr 28 14:28:07 2019]
rule dedup_bam:
    input: bam.csort/HT_18_rep2/HT_18_rep2.picard.csort.bam
    output: bam.dedup/HT_18_rep2/HT_18_rep2.dedup.bam
    log: bam.dedup/HT_18_rep2/HT_18_rep2.dedup.log
    jobid: 7
    wildcards: sample=HT_18_rep2
    threads: 4

java -XX:ParallelGCThreads=4 -Xmx$((4*4))G -jar     ../../scripts/utility/picard.jar MarkDuplicates     TMP_DIR=bam.dedup/tmp/HT_18_rep2     INPUT=bam.csort/HT_18_rep2/HT_18_rep2.picard.csort.bam OUTPUT= bam.dedup/HT_18_rep2/HT_18_rep2.dedup.bam VALIDATION_STRINGENCY=LENIENT     REMOVE_DUPLICATES=True ASSUME_SORT_ORDER=coordinate     METRICS_FILE=bam.dedup/HT_18_rep2/HT_18_rep2.dedup.qc BARCODE_TAG=BX     2> bam.dedup/HT_18_rep2/HT_18_rep2.dedup.log
Submitted job 7 with external jobid '15193711.tscc-mgr.local'.
[Sun Apr 28 15:52:52 2019]
Finished job 7.
1 of 3 steps (33%) done

[Sun Apr 28 15:52:52 2019]
rule filter_bam:
    input: bam.dedup/HT_18_rep2/HT_18_rep2.dedup.bam
    output: bam.filter/HT_18_rep2/HT_18_rep2.filter.bam
    jobid: 1
    wildcards: sample=HT_18_rep2

samtools view -h -f 2 bam.dedup/HT_18_rep2/HT_18_rep2.dedup.bam |  awk -v OFS="	" ' function abs(v) {return v < 0 ? -v : v}
  { if ( /^@/) { print $0 } else if ( $7=="=" && abs($9)< 2000 ) {print $0} }'|  samtools view -bS > bam.filter/HT_18_rep2/HT_18_rep2.filter.bam 
Submitted job 1 with external jobid '15194169.tscc-mgr.local'.
[Sun Apr 28 16:24:24 2019]
Finished job 1.
2 of 3 steps (67%) done

[Sun Apr 28 16:24:24 2019]
localrule require_filter_bam:
    input: bam.filter/HT_18_rep2/HT_18_rep2.filter.bam, bam.filter/HT_03_rep2/HT_03_rep2.filter.bam, bam.filter/HT_10_rep2/HT_10_rep2.filter.bam, bam.filter/HT_03_rep1/HT_03_rep1.filter.bam, bam.filter/HT_10_rep1/HT_10_rep1.filter.bam, bam.filter/HT_18_rep1/HT_18_rep1.filter.bam
    output: bam.filter.files.list.txt
    jobid: 0

ls -lh bam.filter/HT_18_rep2/HT_18_rep2.filter.bam bam.filter/HT_03_rep2/HT_03_rep2.filter.bam bam.filter/HT_10_rep2/HT_10_rep2.filter.bam bam.filter/HT_03_rep1/HT_03_rep1.filter.bam bam.filter/HT_10_rep1/HT_10_rep1.filter.bam bam.filter/HT_18_rep1/HT_18_rep1.filter.bam > bam.filter.files.list.txt
[Sun Apr 28 16:24:24 2019]
Finished job 0.
3 of 3 steps (100%) done
Complete log: /projects/ps-renlab/yanxiao/projects/mouse_aging/scripts/pre_processing/.snakemake/log/2019-04-28T142759.676699.snakemake.log
