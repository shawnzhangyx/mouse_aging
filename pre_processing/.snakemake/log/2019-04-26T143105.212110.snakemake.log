Building DAG of jobs...
Using shell: /bin/bash
Provided cluster nodes: 1000
Job counts:
	count	jobs
	6	count_barcode
	1	require_barcodes
	7

[Fri Apr 26 14:31:10 2019]
rule count_barcode:
    input: bam.raw/HT_18_rep1/HT_18_rep1.raw.bam
    output: bam.raw/HT_18_rep1/HT_18_rep1.raw.barcode.cnts.txt
    jobid: 6
    wildcards: dir=bam.raw/HT_18_rep1, sample=HT_18_rep1.raw

samtools view bam.raw/HT_18_rep1/HT_18_rep1.raw.bam | awk -v OF="	" -v OFS="	"     '{ a[substr($1,1,22)]++ } END { for (i in a) print i,a[i]/2 }' |     sort -k2,2nr > bam.raw/HT_18_rep1/HT_18_rep1.raw.barcode.cnts.txt
    
Submitted job 6 with external jobid '15179164.tscc-mgr.local'.

[Fri Apr 26 14:31:16 2019]
rule count_barcode:
    input: bam.raw/HT_18_rep2/HT_18_rep2.raw.bam
    output: bam.raw/HT_18_rep2/HT_18_rep2.raw.barcode.cnts.txt
    jobid: 1
    wildcards: dir=bam.raw/HT_18_rep2, sample=HT_18_rep2.raw

samtools view bam.raw/HT_18_rep2/HT_18_rep2.raw.bam | awk -v OF="	" -v OFS="	"     '{ a[substr($1,1,22)]++ } END { for (i in a) print i,a[i]/2 }' |     sort -k2,2nr > bam.raw/HT_18_rep2/HT_18_rep2.raw.barcode.cnts.txt
    
Submitted job 1 with external jobid '15179167.tscc-mgr.local'.

[Fri Apr 26 14:31:16 2019]
rule count_barcode:
    input: bam.raw/HT_10_rep2/HT_10_rep2.raw.bam
    output: bam.raw/HT_10_rep2/HT_10_rep2.raw.barcode.cnts.txt
    jobid: 3
    wildcards: dir=bam.raw/HT_10_rep2, sample=HT_10_rep2.raw

samtools view bam.raw/HT_10_rep2/HT_10_rep2.raw.bam | awk -v OF="	" -v OFS="	"     '{ a[substr($1,1,22)]++ } END { for (i in a) print i,a[i]/2 }' |     sort -k2,2nr > bam.raw/HT_10_rep2/HT_10_rep2.raw.barcode.cnts.txt
    
Submitted job 3 with external jobid '15179168.tscc-mgr.local'.

[Fri Apr 26 14:31:16 2019]
rule count_barcode:
    input: bam.raw/HT_03_rep2/HT_03_rep2.raw.bam
    output: bam.raw/HT_03_rep2/HT_03_rep2.raw.barcode.cnts.txt
    jobid: 2
    wildcards: dir=bam.raw/HT_03_rep2, sample=HT_03_rep2.raw

samtools view bam.raw/HT_03_rep2/HT_03_rep2.raw.bam | awk -v OF="	" -v OFS="	"     '{ a[substr($1,1,22)]++ } END { for (i in a) print i,a[i]/2 }' |     sort -k2,2nr > bam.raw/HT_03_rep2/HT_03_rep2.raw.barcode.cnts.txt
    
Submitted job 2 with external jobid '15179169.tscc-mgr.local'.

[Fri Apr 26 14:31:16 2019]
rule count_barcode:
    input: bam.raw/HT_03_rep1/HT_03_rep1.raw.bam
    output: bam.raw/HT_03_rep1/HT_03_rep1.raw.barcode.cnts.txt
    jobid: 4
    wildcards: dir=bam.raw/HT_03_rep1, sample=HT_03_rep1.raw

samtools view bam.raw/HT_03_rep1/HT_03_rep1.raw.bam | awk -v OF="	" -v OFS="	"     '{ a[substr($1,1,22)]++ } END { for (i in a) print i,a[i]/2 }' |     sort -k2,2nr > bam.raw/HT_03_rep1/HT_03_rep1.raw.barcode.cnts.txt
    
Submitted job 4 with external jobid '15179170.tscc-mgr.local'.

[Fri Apr 26 14:31:17 2019]
rule count_barcode:
    input: bam.raw/HT_10_rep1/HT_10_rep1.raw.bam
    output: bam.raw/HT_10_rep1/HT_10_rep1.raw.barcode.cnts.txt
    jobid: 5
    wildcards: dir=bam.raw/HT_10_rep1, sample=HT_10_rep1.raw

samtools view bam.raw/HT_10_rep1/HT_10_rep1.raw.bam | awk -v OF="	" -v OFS="	"     '{ a[substr($1,1,22)]++ } END { for (i in a) print i,a[i]/2 }' |     sort -k2,2nr > bam.raw/HT_10_rep1/HT_10_rep1.raw.barcode.cnts.txt
    
Submitted job 5 with external jobid '15179171.tscc-mgr.local'.
[Fri Apr 26 14:47:41 2019]
Finished job 4.
1 of 7 steps (14%) done
[Fri Apr 26 14:51:31 2019]
Finished job 3.
2 of 7 steps (29%) done
[Fri Apr 26 14:54:21 2019]
Finished job 2.
3 of 7 steps (43%) done
[Fri Apr 26 14:56:01 2019]
Finished job 6.
4 of 7 steps (57%) done
[Fri Apr 26 15:02:42 2019]
Finished job 5.
5 of 7 steps (71%) done
[Fri Apr 26 15:06:12 2019]
Finished job 1.
6 of 7 steps (86%) done

[Fri Apr 26 15:06:12 2019]
localrule require_barcodes:
    input: bam.raw/HT_18_rep2/HT_18_rep2.raw.barcode.cnts.txt, bam.raw/HT_03_rep2/HT_03_rep2.raw.barcode.cnts.txt, bam.raw/HT_10_rep2/HT_10_rep2.raw.barcode.cnts.txt, bam.raw/HT_03_rep1/HT_03_rep1.raw.barcode.cnts.txt, bam.raw/HT_10_rep1/HT_10_rep1.raw.barcode.cnts.txt, bam.raw/HT_18_rep1/HT_18_rep1.raw.barcode.cnts.txt
    output: barcode.files.list.txt
    jobid: 0

ls -lh bam.raw/HT_18_rep2/HT_18_rep2.raw.barcode.cnts.txt bam.raw/HT_03_rep2/HT_03_rep2.raw.barcode.cnts.txt bam.raw/HT_10_rep2/HT_10_rep2.raw.barcode.cnts.txt bam.raw/HT_03_rep1/HT_03_rep1.raw.barcode.cnts.txt bam.raw/HT_10_rep1/HT_10_rep1.raw.barcode.cnts.txt bam.raw/HT_18_rep1/HT_18_rep1.raw.barcode.cnts.txt > barcode.files.list.txt
[Fri Apr 26 15:06:12 2019]
Finished job 0.
7 of 7 steps (100%) done
Complete log: /projects/ps-renlab/yanxiao/projects/mouse_aging/scripts/pre_processing/.snakemake/log/2019-04-26T143105.212110.snakemake.log
